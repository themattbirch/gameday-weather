(()=>{"use strict";({991:function(){var e=this&&this.__awaiter||function(e,t,o,r){return new(o||(o=Promise))((function(n,a){function c(e){try{s(r.next(e))}catch(e){a(e)}}function i(e){try{s(r.throw(e))}catch(e){a(e)}}function s(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o((function(e){e(t)}))).then(c,i)}s((r=r.apply(e,t||[])).next())}))};chrome.runtime.onInstalled.addListener((()=>e(void 0,void 0,void 0,(function*(){try{yield chrome.storage.local.set({OPENWEATHER_API_KEY:"1ba80e3d0e80d7c84305feea8a64aa8c"}),console.log("API key stored successfully")}catch(e){console.error("Failed to store API key:",e)}})))),chrome.runtime.onMessage.addListener(((t,o,r)=>{if("GET_WEATHER"===t.type)return function(t,o){return e(this,void 0,void 0,(function*(){try{const{OPENWEATHER_API_KEY:e}=yield chrome.storage.local.get(["OPENWEATHER_API_KEY"]);if(!e)throw new Error("API key not found");const r=`https://api.openweathermap.org/data/2.5/weather?lat=${t}&lon=${o}&units=imperial&appid=${e}`;console.log("🌍 Fetching weather from OpenWeather:",r);const n=yield fetch(r);if(console.log("📡 Server Response Status:",n.status),!n.ok)throw new Error(`Weather API error: ${n.status}`);const a=yield n.json();return console.log("📦 Weather Data:",a),a}catch(e){throw console.error("❌ Fetch Weather Error:",e),e}}))}(t.latitude,t.longitude).then((e=>r(e))).catch((e=>r({error:e.message}))),!0})),console.log("🚀 Service Worker is active and running.")}})[991]()})();